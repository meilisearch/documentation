<CodeGroup>

```javascript JS
client.index('books').updateFaceting({
  maxValuesPerFacet: 2
  sortFacetValuesBy: {
    '*': 'alpha',
    genres: 'count'
  }
})
```

```python Python
params = {
  'maxValuesPerFacet': 2,
  'sortFacetValuesBy': {
      '*': 'count',
      'genres': 'count'
    }
}
client.index('books').update_faceting_settings(params)
```

```php PHP
$client->index('books')->updateFaceting([
  'maxValuesPerFacet' => 2,
  'sortFacetValuesBy' => ['*' => 'alpha', 'genres' => 'count']
]);
```

```java Java
Faceting newFaceting = new Faceting();
newFaceting.setMaxValuesPerFacet(2);
HashMap<String, FacetSortValue> facetSortValues = new HashMap<>();
facetSortValues.put("*", FacetSortValue.ALPHA);
facetSortValues.put("genres", FacetSortValue.COUNT);
newFaceting.setSortFacetValuesBy(facetSortValues);
client.index("books").updateFacetingSettings(newFaceting);
```

```ruby Ruby
client.index('books').update_faceting({
  max_values_per_facet: 2,
  sort_facet_values_by: {
    '*': 'alpha',
    genres: 'count'
  }
})
```

```go Go
client.Index("books").UpdateFaceting(&meilisearch.Faceting{
    MaxValuesPerFacet: 2,
    SortFacetValuesBy: {
       "*":      SortFacetTypeAlpha,
       "genres": SortFacetTypeCount,
    }
})
```

```csharp C#
var faceting = new Faceting
{
    MaxValuesPerFacet = 2,
    SortFacetValuesBy = new Dictionary<string, SortFacetValuesByType>
    {
        ["*"] = SortFacetValuesByType.Alpha,
        ["genres"] = SortFacetValuesByType.Count
    }
};
await client.Index("books").UpdateFacetingAsync(faceting);
```

```rust Rust
let mut facet_sort_setting = BTreeMap::new();
facet_sort_setting.insert(String::from("*"), FacetSortValue::Alpha);
facet_sort_setting.insert(String::from("genres"), FacetSortValue::Count);
let mut faceting = FacetingSettings {
  max_values_per_facet: 2,
  sort_facet_values_by: Some(facet_sort_setting),
};

let task: TaskInfo = client
  .index("books")
  .set_faceting(&faceting)
  .await
  .unwrap();
```

```dart Dart
await client.index('books').updateFaceting(Faceting(
        maxValuesPerFacet: 2,
        sortFacetValuesBy: {
          '*': FacetingSortTypes.alpha,
          'genres': FacetingSortTypes.count
        }));
```
</CodeGroup>