<CodeGroup>

```bash cURL
curl \
  -X POST "${MEILISEARCH_URL}/keys" \
  -H 'Content-Type: application/json' \
  -H "Authorization: Bearer ${MEILISEARCH_API_KEY}" \
  --data-binary '{
    "description": "Search patient records key",
    "actions": ["search"],
    "indexes": ["patient_medical_records"],
    "expiresAt": "2023-01-01T00:00:00Z"
  }'
```

```javascript JS
const client = new MeiliSearch({
  host: process.env.MEILISEARCH_URL,
  apiKey: process.env.MEILISEARCH_API_KEY
})
client.createKey({
  description: 'Search patient records key',
  actions: ['search'],
  indexes: ['patient_medical_records'],
  expiresAt: '2023-01-01T00:00:00Z'
})
```

```python Python
import os
client = Client(
  os.environ.get('MEILISEARCH_URL'),
  os.environ.get('MEILISEARCH_API_KEY')
)
client.create_key(options={
  'description': 'Search patient records key',
  'actions': ['search'],
  'indexes': ['patient_medical_records'],
  'expiresAt': '2023-01-01T00:00:00Z'
})
```

```php PHP
$client = new Client(getenv('MEILISEARCH_URL'), getenv('MEILISEARCH_API_KEY'));
$client->createKey([
  'description' => 'Search patient records key',
  'actions' => ['search'],
  'indexes' => ['patient_medical_records'],
  'expiresAt' => '2023-01-01T00:00:00Z',
]);
```

```java Java
Client client = new Client(new Config(
  System.getenv("MEILISEARCH_URL"),
  System.getenv("MEILISEARCH_API_KEY")
));

SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss'Z'");
Date dateParsed = format.parse("2023-01-01T00:00:00Z");

Key keyInfo = new Key();

keyInfo.setDescription("Search patient records key");
keyInfo.setActions(new String[] {"search"});
keyInfo.setIndexes(new String[] {"patient_medical_records"});
keyInfo.setExpiresAt(dateParsed);

client.createKey(keyInfo);
```

```ruby Ruby
client = MeiliSearch::Client.new(ENV['MEILISEARCH_URL'], ENV['MEILISEARCH_API_KEY'])
client.create_key(
  description: 'Search patient records key',
  actions: ['search'],
  indexes: ['patient_medical_records'],
  expires_at: '2023-01-01T00:00:00Z'
)
```

```go Go
client := meilisearch.New(
  os.Getenv("MEILISEARCH_URL"),
  meilisearch.WithAPIKey(os.Getenv("MEILISEARCH_API_KEY")),
)

client.CreateKey(&meilisearch.Key{
  Description: "Search patient records key",
  Actions: []string{"search"},
  Indexes: []string{"patient_medical_records"},
  ExpiresAt: time.Date(2042, time.April, 02, 0, 42, 42, 0, time.UTC),
})
```

```csharp C#
MeilisearchClient client = new MeilisearchClient(
  Environment.GetEnvironmentVariable("MEILISEARCH_URL"),
  Environment.GetEnvironmentVariable("MEILISEARCH_API_KEY")
);
Key keyOptions = new Key
{
    Description = "Search patient records key",
    Actions = new string[] { "search" },
    Indexes = new string[] { "patient_medical_records" },
    ExpiresAt = DateTime.Parse("2023-01-01T00:00:00Z")
};
Key createdKey = await this.client.CreateKeyAsync(keyOptions);
```

```rust Rust
use std::env;

let client = Client::new(
  env::var("MEILISEARCH_URL").unwrap(),
  Some(env::var("MEILISEARCH_API_KEY").unwrap())
);
let mut key_options = KeyBuilder::new();
key_options
  .with_name("Search patient records key")
  .with_action(Action::Search)
  .with_expires_at(time::macros::datetime!(2023 - 01 - 01 00:00:00 UTC))
  .with_index("patient_medical_records");
let new_key = client
  .create_key(key_options)
  .await
  .unwrap();
```

```swift Swift
let client = try MeiliSearch(
  host: ProcessInfo.processInfo.environment["MEILISEARCH_URL"]!,
  apiKey: ProcessInfo.processInfo.environment["MEILISEARCH_API_KEY"]
)

let keyParams = KeyParams(
  description: "Search patient records key",
  actions: ["search"],
  indexes: ["patient_medical_records"],
  expiresAt: "2023-01-01T00:00:00Z"
)
client.createKey(keyParams) { result in
  switch result {
  case .success(let key):
    print(key)
  case .failure(let error):
    print(error)
  }
}
```

```dart Dart
var client = MeiliSearchClient(
  Platform.environment['MEILISEARCH_URL']!,
  Platform.environment['MEILISEARCH_API_KEY']!
);
await client.createKey(
  description: 'Search patient records key',
  actions: ['search'],
  indexes: ['patient_medical_records'],
  expiresAt: DateTime(2023, 01, 01),
);
```
</CodeGroup>