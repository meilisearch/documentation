---
title: Using HTTP/2 and SSL with Meilisearch
description: Configure SSL certificates to enable HTTP/2 connections with a self-hosted Meilisearch instance.
---

Meilisearch supports HTTP/2, but only when SSL is configured. Without SSL, all requests fall back to HTTP/1.1. This guide shows you how to set up SSL certificates and verify HTTP/2 is working.

## Prerequisites

- A self-hosted Meilisearch binary or Docker installation
- A tool to generate SSL certificates:
  - **Local development**: [mkcert](https://github.com/FiloSottile/mkcert)
  - **Production**: [certbot](https://certbot.eff.org/) or certificates from a Certificate Authority
- `curl` (to verify HTTP/2 requests)

## Generate SSL certificates

For local development, use `mkcert` to create a trusted certificate:

```bash
mkcert '127.0.0.1'
```

This creates two files in your current directory:
- `127.0.0.1.pem` — the certificate
- `127.0.0.1-key.pem` — the private key

<Tip>
For production, use certbot or a certificate from a trusted Certificate Authority instead of mkcert.
</Tip>

## Start Meilisearch with SSL

Pass the certificate and key paths when starting Meilisearch:

```bash
./meilisearch --ssl-cert-path ./127.0.0.1.pem --ssl-key-path ./127.0.0.1-key.pem
```

If using Docker, mount the certificates as a volume and pass the paths as environment variables:

```bash
docker run -it --rm \
  -p 7700:7700 \
  -v $(pwd):/certs \
  getmeili/meilisearch:latest \
  meilisearch --ssl-cert-path /certs/127.0.0.1.pem --ssl-key-path /certs/127.0.0.1-key.pem
```

## Verify HTTP/2 is active

Send a request with the `--http2` flag and check the response protocol:

```bash
curl -kvs --http2 --request GET 'https://127.0.0.1:7700/indexes'
```

Look for these lines in the output confirming HTTP/2:

```
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
< HTTP/2 200
```

If you see `HTTP/1.1` in the response instead of `HTTP/2`, SSL is not configured correctly.

## Why HTTP/2 requires SSL

Without SSL, `curl --http2` attempts an HTTP/2 upgrade via the `Upgrade` header:

```bash
curl -kvs --http2 --request GET 'http://127.0.0.1:7700/indexes'
```

The server cannot upgrade the connection, so it falls back to HTTP/1.1:

```
> Connection: Upgrade, HTTP2-Settings
> Upgrade: h2c
< HTTP/1.1 200 OK
```

With SSL enabled, the client and server negotiate HTTP/2 during the TLS handshake (via ALPN), enabling HTTP/2 without any fallback.

## Troubleshooting

| Issue | Solution |
|-------|----------|
| `HTTP/1.1` in response despite SSL | Verify certificate paths are correct and the files exist |
| Certificate verification errors | Use `mkcert -install` to install the local CA, or use `-k` flag with curl |
| Connection refused | Ensure Meilisearch is running and the port matches your request |
| Docker: file not found | Check your volume mount path matches the certificate location |
