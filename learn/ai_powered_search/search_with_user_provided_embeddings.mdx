---
title: Use AI-powered search with user-provided embeddings
sidebarTitle: Use AI-powered search with user-provided embeddings
description: This guide shows how to perform AI-powered searches with user-generated embeddings instead of relying on a third-party tool.
---

import CodeSamplesUserProvidedEmbeddingsSettings1 from '/snippets/generated-code-samples/code_samples_user_provided_embeddings_settings_1.mdx';
import CodeSamplesAiSearchUserEmbeddingsDocuments1 from '/snippets/generated-code-samples/code_samples_ai_search_user_embeddings_documents_1.mdx';
import CodeSamplesSearchParameterGuideVector1 from '/snippets/generated-code-samples/code_samples_search_parameter_guide_vector_1.mdx';
import CodeSamplesAiSearchUserEmbeddingsSearchVectorFilter1 from '/snippets/generated-code-samples/code_samples_ai_search_user_embeddings_search_vector_filter_1.mdx';

This guide shows how to perform AI-powered searches with user-generated embeddings instead of relying on a third-party tool.

## Requirements

- A Meilisearch project

## Configure a custom embedder

Configure the `embedder` index setting, settings its source to `userProvided`:

<CodeSamplesUserProvidedEmbeddingsSettings1 />

<Warning>
Embedders with `source: userProvided` are incompatible with `documentTemplate` and `documentTemplateMaxBytes`.
</Warning>

## Add documents to Meilisearch

Next, use [the `/documents` endpoint](/reference/api/documents/list-documents-with-get?utm_campaign=vector-search&utm_source=docs&utm_medium=vector-search-guide) to upload vectorized documents. Place vector data in your documents' `_vectors` field:

<CodeSamplesAiSearchUserEmbeddingsDocuments1 />

## Vector search with user-provided embeddings

When using a custom embedder, you must vectorize both your documents and user queries.

Once you have the query's vector, pass it to the `vector` search parameter to perform an AI-powered search:

<CodeSamplesSearchParameterGuideVector1 />

`vector` must be an array of numbers indicating the search vector. You must generate these yourself when using vector search with user-provided embeddings.

`vector` can be used together with [other search parameters](/reference/api/search/search-with-post?utm_campaign=vector-search&utm_source=docs&utm_medium=vector-search-guide), including [`filter`](/reference/api/search/search-with-post#body-filter) and [`sort`](/reference/api/search/search-with-post#body-sort):

<CodeSamplesAiSearchUserEmbeddingsSearchVectorFilter1 />
