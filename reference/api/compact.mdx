---
title: Compact
description: Use the `/compact` route to reduce database fragmentation.
---

import { RouteHighlighter } from '/snippets/route_highlighter.mdx'

import CodeSamplesCompactIndex1 from '/snippets/samples/code_samples_compact_index_1.mdx';

Index fragmentation occurs naturally as you use Meilisearch and can lead to decreased performance over time. `/compact` reorganizes the database and prunes unused space, which may lead to improved indexing and search speeds.

Meilisearch Cloud monitors database fragmentation and compacts indexes as needed. Self-hosted users may have to build a pipeline to periodically compact indexes and fix performance degradation.

<Tip>
Fragmentation is directly related to the number of indexing operations Meilisearch performs. Common indexing operations include adding and updating documents, as well as changes to index settings.

To estimate your index's fragmentation, query the `/stats` route. If the ratio between `databaseSize` and `usedDatabaseSize` is bigger than 30%, compacting your indexes may improve performance.

If you update documents in your indexes a few times per day, you may benefit from checking fragmentation and compacting your database once per week. If indexing load is very high, compacting indexes multiple times per week may be necessary to ensure optimal performance.
</Tip>

## Compact database

<RouteHighlighter method="POST" path="/indexes/{index_uid}/compact" />

Compact the specified index.

During compaction, Meilisearch must temporarily duplicate the database. Ensure you have at least twice the current size of your database in free disk space when compacting an index.

### Example

<CodeSamplesCompactIndex1 />

#### Response: `202 Accepted`

```json
{
  "taskUid": 1,
  "indexUid": "INDEX_NAME",
  "status": "enqueued",
  "type": "IndexCompaction",
  "enqueuedAt": "2025-01-01T00:00:00.000000Z"
}
```
